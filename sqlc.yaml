version: '2'
sql:
- engine: postgresql
  schema: ./internal/db/migrations
  database:
    uri: postgresql://postgres:password@localhost:5431/postgres
  queries: ./internal/db/query
  gen:
    go:
      emit_json_tags: true
      package: repository
      out: internal/db/repository
      sql_package: pgx/v5
      overrides:
      - db_type: uuid
        go_type:
          import: github.com/google/uuid
          type: UUID
      - db_type: timestamptz
        go_type:
          import: time
          type: Time
      - column: book.title
        go_struct_tag: binding:"required"
      - column: book.author
        go_struct_tag: binding:"required"
